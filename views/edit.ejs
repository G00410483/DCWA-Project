<!-- Edit Store Page -->

<!-- styling -->
<style>
  table {
    width: 80%;
    margin: auto;
    border-collapse: collapse;
  }

  th,
  td {
    padding: 10px;
    text-align: center;
    border: 1px solid #ddd;
  }
  button {
    display: block;
    margin: auto;
    margin-top: 10px; 
  }
</style>

<!-- Check if there are any errors to display -->
<% if (errors && errors.length > 0) { %>
  <div>
    <!-- Loop through each error in the 'errors' array -->
    <% errors.forEach(function(error) { %>
      <!-- Display the error message inside a paragraph element -->
      <p><%= error %></p>
    <% }); %>
  </div>
<% } %>
<h1>Edit Store</h1>
<!-- Form to update the store -->
<form action="/stores/edit/<%= store ? store.sid : '' %>" method="POST">
  <table>
    <tr>
      <td>
        <label for="sid">SID:</label>
        <!-- Value checks if store exists, if exists sets the value to the value of 
          store.sid otherwise sets the value attribute to an empty string -->
        <input type="text" id="sid" name="sid" value="<%= store ? store.sid : '' %>" readonly required>
      </td>
    </tr>
    <tr>
      <td>
        <label for="location">Location:</label>
       <!--  It checks if a variable "store" exists and if "store.location" is not null. -->
        <input type="text" id="location" name="location" value="<%= store && store.location !== null ? store.location : '' %>" pattern=".{1,}" title="Minimum 1 character required" required>
      </td>
    </tr>
    <tr>
      <td>
        <label for="mgrid">Manager ID:</label>
        <input type="text" id="mgrid" name="mgrid" value="<%= store && store.mgrid !== null ? store.mgrid : '' %>" pattern=".{4,}" title="Minimum 4 characters required" required>
      </td>
    </tr>
  </table>
  <!-- Button to update the store -->
  <button type="submit">Update</button>
</form>
